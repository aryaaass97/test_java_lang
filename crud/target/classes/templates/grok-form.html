<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8" />
        <title>Grok Debugger</title>
        <style>
        body{font-family: Arial, Helvetica, sans-serif; margin: 20px}
        textarea{width: 100%; min-height: 140px; padding: 8px; font-family: monospace}
        .col {display:flex; gap:10px}
        .col > div{flex:1}
        pre{background:#f5f5f5; padding:10px}
        .btn{display:inline-block;padding:8px 12px;background:#1976d2;color:white;border-radius:4px;text-decoration:none}
        </style>
    </head>
    <body>
        <h1>Grok Debugger (Spring Boot + Thymeleaf)</h1>
        <form method="post" th:action="@{/grok/parse}">
            <div>
                <label for="pattern">Grok Pattern</label>
                <textarea id="pattern" name="pattern" th:text="${pattern != null} ? ${pattern} : ${examplePattern}"></textarea>
            </div>
            <div>
                <label for="log">Log Line</label>
                <textarea id="log" name="log" th:text="${log != null} ? ${log} : ${exampleLog}"></textarea>
            </div>
            <p>
                <button class="btn" type="submit">Parse</button>
            </p>
        </form>
        <div>   
            <h3>Result</h3>
            <pre th:text="${resultJson} ?: 'No result yet'"></pre>
        </div>
    <hr />
    <p>Tips: Use double backslashes in the pattern when submitting via some clients (e.g. Postman / curl) to escape characters.</p>
    </body>
</html>